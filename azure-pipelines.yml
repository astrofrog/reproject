variables:
  CIBW_BUILD: cp36-* cp37-*
  CIBW_SKIP: "*-win32 *-manylinux1_i686"

resources:
  repositories:
  - repository: OpenAstronomy
    type: github
    endpoint: astrofrog
    name: OpenAstronomy/azure-pipelines-templates
    ref: master

jobs:

- template: run-tox-env.yml@OpenAstronomy
  parameters:
    envs:
    - linux: pep8
    - macos: py37-test
    - windows: py36-docs
    - linux32: py35-test

# - template: publish.yml@OpenAstronomy
#   parameters:
#     test_command: pytest -p no:warnings --pyargs reproject
#     test_extras: test
#     pypi_connection_name: pypi_test
#     targets:
#     - sdist
    # - wheels_linux
    # - wheels_macosx
    # - wheels_windows
